<script src="glfx.js"></script>
<script>

function gbr_ink(sourceID,resultID) {
    var canvas = fx.canvas();
    var texture = canvas.texture(document.getElementById(sourceID));
    canvas.draw(texture).ink(0.35).update();
    var image = new Image;
    document.getElementById(resultID).src = canvas.toDataURL();
};
function gbr_denoise(sourceID,resultID) {
    var canvas = fx.canvas();
    var texture = canvas.texture(document.getElementById(sourceID));
	canvas.draw(texture).denoise(50).update();
    var image = new Image;
    document.getElementById(resultID).src = canvas.toDataURL();
};
function gbr_contrast(sourceID,resultID) {
    var canvas = fx.canvas();
    var texture = canvas.texture(document.getElementById(sourceID));
	canvas.draw(texture).brightnessContrast(0.1, 0.2).update();
    var image = new Image;
    document.getElementById(resultID).src = canvas.toDataURL();
	
	setTimeout(function(){
	gbr_denoise('image2','image3')
	}, 2);
	
	setTimeout(function(){
	gbr_ink('image3','image')
	}, 4);
	
	setTimeout(function(){
	hapus_el('#image1');
	hapus_el('#image2');
	hapus_el('#image3');
	}, 6);
};
function hapus_el(elem) {
	var els = document.querySelectorAll(elem);
  for (var i = 0; i < els.length; i++) {
    els[i].remove()
  }
}
</script>
<img id="image1" src="real.png" crossorigin="anonymous"/>
<img id="image2" hidden/>
<img id="image3" hidden/>
<img id="image" />
<button onclick="gbr_contrast('image1','image2')">convert</button>